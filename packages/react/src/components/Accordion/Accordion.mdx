import { Meta, Canvas, Controls, Primary, ArgTypes } from '@storybook/blocks';

import * as AccordionStories from './Accordion.stories';

import { Accordion } from '.';

<Meta of={AccordionStories} />

# Accordion

Med `Accordion` kan du presentera mycket innehåll på liten ytan i en eller flera rader. Hela raden är klickbar och låter användare öppna eller stänga visningen av innehållet under.

**Var uppmärksam på:**

- Genom att lägga innehåll i `Accordion` riskerar du att det inte blir sett av användare. Viktigt innehåll bör _inte_ döljas.
- Lägg inte en `Accordion` inuti en annan.

<br />

<Primary />
<Controls />

## Användning

```tsx
import { Accordion } from '@digdir/designsystemet-react';

<Accordion>
  <Accordion.Item>
    <Accordion.Heading>Accordion heading text</Accordion.Heading>
    <Accordion.Content>Accordion content</Accordion.Content>
  </Accordion.Item>
  <Accordion.Item>
    <Accordion.Heading>Accordion heading text</Accordion.Heading>
    <Accordion.Content>Accordion content</Accordion.Content>
  </Accordion.Item>
</Accordion>;
```

## Exempel

<br />
### Med Ram

`Accordion` kan visas med ram. Detta kan vara lämpligt i fall där accordeons inte fyller hela sidan eller när det endast finns en rad.

<Canvas of={AccordionStories.AccordionBorder} />

### Med färger

`Accordion` kan visas i färger från ditt varumärke.

<Canvas of={AccordionStories.AccordionColor} />

#### Kontrollerad

`Accordion` har ett eget tillstånd för öppet/stängt, men detta kan styras externt.

<Canvas of={AccordionStories.Controlled} />

<br />

## Riktlinjer

Tester visar att användare sällan tittar på dolt innehåll, jämfört med innehåll som visas direkt på sidan. Använd inte `Accordion` för att dölja innehåll bara för att göra sidan "renare". Avgör om du verkligen behöver dölja innehållet och var medveten om varför du gör det. Tänk på om det är klokt att visa det viktigaste innehållet i öppet läge när användaren kommer in på sidan.

Om innehållet är för långt eller komplicerat bör du hellre omformulera texten och/eller eventuellt dela upp det på flera sidor.

### Lämpligt för

- samla innehåll som är något längre
- göra det frivilligt att visa innehåll som är mindre viktigt än det alltid synliga innehållet
- visa vanliga frågor
- visa ytterligare information som kan vara till hjälp för användare

### Inte lämpligt för

- visa små mängder innehåll
- visa information om det bara finns ett objekt
- visa viktigt innehåll som alla bör se när de kommer till sidan (till exempel felmeddelanden)
- ge mer information om en fråga i ett formulär – det innehållet bör användaren se direkt
- välja mellan olika alternativ
- dölja innehåll från sökresultat eller översikter/tabeller
- dela upp ett logiskt flöde eller en serie åtgärder, då bör du hellre använda en stegvis lista

### Undvik

- Lägg inte en `Accordion` inuti en annan, det vi kallar nästlade listor.

<br />

## Text i komponenten

Accordion bör användas för maximalt två stycken inom varje nedfällning. Se till att rubriken ger en bra beskrivning av vad innehållet i accordion är. En tydlig och beskrivande rubrik ska göra användarna nyfikna på innehållet. Rubrikerna till accordion kan ha stor betydelse för om användarna hittar det de behöver, om innehållet blir läst och om det kan anses vara tillgängligt för alla användare. "Visa mer" eller "Läs mer här" är inte tillräckligt bra titlar. Om du har en accordion med många nedfällningar kan du ha en huvudrubrik eller temarubrik över hela listan.

<br />

## Tillgänglighet

Som standard är `Accordion.Heading` ett `h1`-element. Du måste själv välja rätt rubriknivå för din sida. Om `Accordion.Heading` är en del av en större rubrik kan du använda `h2`, `h3` osv. för att bibehålla en logisk ordning.

[`Chevron`](https://aksel.nav.no/ikoner/ChevronDown)-ikonen är medvetet placerad till vänster om texten för att underlätta för användare med begränsat synfält. Det är lättare för användaren att se den (eftersom vi läser från vänster). Många användare tror att de måste peka på och välja ikonen för att öppna.

Placera inte andra interaktiva element i `Accordion`-rubriken, eftersom hela raden ska vara klickbar. Ikonen och texten ska _inte_ länka till olika åtgärder (till exempel att texten leder till en sida medan ikonen öppnar listan). Användare förväntar sig inte att ikon och text ska ge olika resultat när de väljer dem.

`Tab`: Flyttar fokus till nästa element som kan ha fokus \
`Shift` + `Tab`: Flyttar fokus till föregående element som kan ha fokus \
`Space`: Aktiverar knapp \
`Enter`: Aktiverar knapp

<br />

## Andre props

### Accordion.Item

<ArgTypes of={Accordion.Item} />

### Accordion.Heading

<ArgTypes of={Accordion.Heading} />

### Accordion.Content

<ArgTypes of={Accordion.Content} />
