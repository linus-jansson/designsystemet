import { Meta, Canvas, Controls, Primary, ArgTypes } from '@storybook/blocks';

import * as AccordionStories from './Accordion.stories';

import { Accordion } from '.';

<Meta of={AccordionStories} />

# Accordion

Med `Accordion` kan du presentere mye innhold på liten plass i en eller flere rader. Hele raden er klikkbar og lar brukere åpne eller lukke visningen av innholdet under.

**Vær oppmerksom på:**

- Ved å legge innhold i `Accordion` risikerer du at det ikke blir sett av brukerne. Innhold som er viktig bør _ikke_ skjules.
- Ikke legg en `Accordion` inni en annen.

<br />

<Primary />
<Controls />

## Bruk

```tsx
import { Accordion } from '@digdir/designsystemet-react';

<Accordion>
  <Accordion.Item>
    <Accordion.Heading>Accordion heading text</Accordion.Heading>
    <Accordion.Content>Accordion content</Accordion.Content>
  </Accordion.Item>
  <Accordion.Item>
    <Accordion.Heading>Accordion heading text</Accordion.Heading>
    <Accordion.Content>Accordion content</Accordion.Content>
  </Accordion.Item>
</Accordion>;
```

## Eksempler

<br />
### Med ramme

`Accordion` kan vises med ramme. Dette kan passe i tilfeller der accordions ikke fyller hele siden, eller når det kun er en rad.

<Canvas of={AccordionStories.AccordionBorder} />

### Med farger

`Accordion` kan vises i farger fra ditt brand.

<Canvas of={AccordionStories.AccordionColor} />

#### Kontrollert

`Accordion` har egen tilstand på åpen/lukker, men dette kan kontrolleres utenfra.

<Canvas of={AccordionStories.Controlled} />

<br />

## Retningslinjer

Tester viser at brukerne sjeldnere ser på skjult innhold, enn det som er synlig direkte på siden. Ikke bruk `Accordion` til å skjule innhold for å gjøre siden "ryddigere". Finn ut om du faktisk må skjule innhold og vær klar over hvorfor du gjør det. Tenk over om det er lurt å vise det viktigste innholdet i åpen status når brukeren kommer inn på siden.

Hvis innholdet er for langt eller komplisert, bør du heller omformulere teksten og/eller eventuelt fordele den på flere sider.

### Egnet til

- samle innhold som er litt lengre
- gjøre det frivillig å se innhold som er litt mindre viktig enn alltid synlig innhold
- vise ofte stilte spørsmål
- vise tilleggsinformasjon som kan være til hjelp for brukerne

### Ikke egnet til

- vise små mengder innhold
- vise informasjon hvis det bare er ett element
- vise viktig innhold som alle bør se når de kommer til siden (for eksempel feilmeldinger)
- gi mer informasjon om et spørsmål i et skjema – det innholdet bør brukeren se med en gang
- velge mellom ulike alternativer
- skjule innhold fra søkeresultater eller oversikter/tabeller
- dele opp en logisk flyt eller en rekke med handlinger, da bør du heller bruke en trinnvis liste

### Unngå

- Ikke legg en `Accordion` inni en annen, det vi kaller nøstede lister.

<br />

## Tekst i komponenten

Accordion skal brukes til maksimalt to avsnitt innenfor hvert nedtrekk. Sørg for at overskriften gir en god beskrivelse av hva innholdet i accordion er. En tydelig og beskrivende overskrift skal gjøre brukerne nysgjerrige på innholdet. Overskriftene til accordion kan ha stor betydning for om brukerne finner det de trenger, om innholdet blir lest og om det kan regnes som tilgjengelig for alle brukere. «Vis mer» eller «Les mer her» er ikke gode nok titler. Har du en accordion med mange nedtrekk, kan du ha en hovedoverskrift eller temaoverskrift over hele listen.

<br />

## Tilgjengelighet

Som standard er `Accordion.Heading` et `h1` element. Du må selv velge riktig overskriftsnivå for din side. Hvis `Accordion.Heading` er en del av en større overskrift, kan du bruke `h2`, `h3` osv. for å opprettholde en logisk rekkefølge.

[`Chevron`](https://aksel.nav.no/ikoner/ChevronDown)-ikonet er bevisst plassert til venstre for teksten, av hensyn til brukerer med nedsatt synsfelt. Der er det lettere for brukeren å se det (fordi vi leser fra venstre). Mange brukere tror at de må peke på og velge ikonet for å åpne.

Ikke plasser andre interaktive elementer inn i `Accordion`-heading, da hele raden skal være klikkbar. Ikonet og teksten skal _ikke_ lenke til ulike handlinger (for eksempel at teksten går videre til en side, mens ikonet åpner listen). Brukerne forventer ikke at ikon og tekst skal gi ulikt resultat når de velger dem.

`Tab` : Flytter fokus til neste element som kan ha fokus \
`Shift` + `Tab` : Flytter fokus til forrige element som kan ha fokus \
`Space` : Aktiverer knapp \
`Enter` : Aktiverer knapp

<br />

## Andre props

### Accordion.Item

<ArgTypes of={Accordion.Item} />

### Accordion.Heading

<ArgTypes of={Accordion.Heading} />

### Accordion.Content

<ArgTypes of={Accordion.Content} />
