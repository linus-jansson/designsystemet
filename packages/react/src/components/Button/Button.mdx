import { Meta, Canvas, Controls, Primary } from '@storybook/blocks';
import { Do, Dont, Stack, CssVariables } from '@doc-components';
import { Button } from './Button';

import * as ButtonStories from './Button.stories';

import css from '@digdir/designsystemet-css/button.css?inline';

<Meta of={ButtonStories} />

# Button

Knappar låter användarna utföra åtgärder. Vi har varianterna `primary`, `secondary` och `tertiary` som kommer i olika färgvarianter och storlekar.

<Primary />
<Controls />

## Så använder du button

```tsx
import { Button } from '@digdir/designsystemet-react';

<Button>Klicka på mig!</Button>;
```

## Varianter av button

Vi har olika knappar för att framhäva utvalda åtgärder. `Primary`, `secondary` och `tertiary` bestämmer hur viktig åtgärden är.

<br />

### Primary button

Vi använder denna knapp för den åtgärd som är viktigast för användaren, till exempel Spara, Nästa eller Skicka in. Det ska bara finnas en primärknapp per sida.

<Canvas of={ButtonStories.Primary} />

### Secondary button

Vi använder denna knapp för åtgärder som inte är huvudåtgärder. Den står vanligtvis tillsammans med en huvudknapp, så om huvudknappen är Spara kan sekundärknappen vara Avbryt.

<Canvas of={ButtonStories.Secondary} />

### Tertiary button

Denna knapp använder vi för nedtonade åtgärder. Om vi vill använda den ensam, måste den ha med en ikon, annars är det svårt att se att det är en knapp.

<Canvas of={ButtonStories.Tertiary} />

<br />

## Färgvarianter

### Huvudfärger

Knapparna kommer i två huvudfärger `accent` och `neutral`. Om du har åsidosatt färgpaletten kommer färgerna `accent` och `neutral` att vara det du själv har satt.

- `accent`-färgen sticker ut mer än `neutral` och används vanligtvis när åtgärden behöver uppmärksamhet.

<Canvas of={ButtonStories.Accent} />

- `neutral`-färgen är mer neutral och kan användas när det finns flera knappar på en sida som inte ska dra för mycket uppmärksamhet.

<Canvas of={ButtonStories.Neutral} />

### Danger

`Danger`-färgen använder vi för åtgärder som användaren inte kan ångra, till exempel Ta bort.

<Canvas of={ButtonStories.Danger} />

### Kombinera olika färgvarianter

En grupp med knappar bör använda samma färgvariant. Undantaget är när vi ska tydliggöra en åtgärd som användaren inte kan ångra, till exempel Kassera. Vi ska inte kombinera andra färgvarianter.

<Canvas of={ButtonStories.CombinedColors} />

<br />

## Exempel

### Knapp som länk

Använd `asChild` om du behöver använda knappen som en länk. Överväg först om det är bättre att använda [`Link`](/docs/komponenter-link--docs)-komponenten.
Du kan läsa mer om komposition [här](https://www.designsystemet.no/grunnleggende/for-utviklere/komposisjon).

<Canvas of={ButtonStories.AsLink} />

### Knapp med endast ikon

Knappar med endast ikon använder vi bara för välkända ikoner som Stäng och Ta bort. När knappen bara har en ikon, måste vi ha med en tillgänglig text som förklarar vad knappen gör. Detta kan läggas i `title`, `aria-label` eller i en `Tooltip`, som i exemplet nedan.

<Canvas of={ButtonStories.IconOnly} />

### Knapp med text och ikon

När vi använder ikon tillsammans med text, ska ikonen ha `aria-hidden` så att texten inte läses upp av skärmläsare två gånger.

<Canvas of={ButtonStories.TextAndIcon} />

Vi placerar ikonen till vänster eller höger om texten, beroende på vad knappen kommunicerar och var den är placerad i gränssnittet.

Vanligtvis är **vänster** den bästa placeringen, men det finns undantag:

- Är det en knapp som säger "Start" med en högerpekande pil, är det naturligt att pilen placeras till höger om texten.
- Är knappen fast placerad på höger sida av gränssnittet är det bäst att ikonen också är placerad till höger om texten.

<br />

### Storlek på ikon

Ikonen skaleras automatiskt baserat på knappens storlek, men du kan ändra detta genom att ställa in teckenstorleken.

<Canvas of={ButtonStories.IconOnly} />

<br />

### Ladda in

När vi vill visa användaren att knappen laddar något kan vi kombinera knappen med en `spinner`.

<Canvas of={ButtonStories.Loading} />

I exemplet ovan har vi använt `aria-disabled` för att inaktivera knapparna. Detta är det rekommenderade sättet att visa att en knapp är inaktiverad. Den kan fortfarande få fokus när någon navigerar med tangentbordet. På så sätt blir skärmläsare och andra hjälpmedel informerade om att knappen finns, men inte är aktiv.

Denna egenskap stoppar inte automatiskt knappen från att utlösa `onClick`.

Se till att callback-funktionen inte körs när knappen är inaktiverad.

<br />

## Riktlinjer för button

Knappar ska användas för att utföra åtgärder.

Passar till att

- starta en process
- navigera i ett flöde, till exempel med Föregående och Nästa
- skicka in ett formulär

<br />
Passar inte till att

- navigera till andra sidor eller ut ur tjänsten, använd istället [`link`](/docs/komponenter-link--docs)

<br />

### Placering av knappar

När vi placerar flera knappar bredvid varandra ska primärknappen stå först. Undantaget är Föregående och Nästa, då ska sekundärknappen Föregående stå först.

<br />

### Undvik inaktiverade knappar

Inaktiverade knappar bör undvikas eftersom de kan vara svåra att förstå. Vissa användare kommer inte att förstå vad knappen säger eller varför den inte är klickbar. Använd hellre en aktiv knapp som validerar. [^1]

<br />
### En knapp ska utföra endast en åtgärd

Vi ska tydligt beskriva vilka åtgärder knapparna utför. En knapp kan bara ha en åtgärd, inte flera.

<Stack direction="row" style={{
  justifyContent: 'unset',
  alignItems: 'unset'
}}>
  <Do
    description='En knapp ska bara utföra en åtgärd'
    image='/img/component-guidelines/button/button-ex2-do.png'
  />

  <Dont
    description='Undvik flera åtgärder på samma knapp'
    image='/img/component-guidelines/button/button-ex2-dont.png'
  />
</Stack>
<br />

### Endast en huvudåtgärd per sida

Vi ska hålla oss till en primärknapp per sida. Om det finns flera huvudåtgärder kan användarna bli osäkra på vad de ska göra.

<Stack direction="row" style={{
  justifyContent: 'unset',
  alignItems: 'unset'
}}>
  <Do
    description='Det ska bara finnas en primärknapp per sida'
    image='/img/component-guidelines/button/button-ex3-do.png'
  />

  <Dont
    description='Vi ska inte ha flera primärknappar på samma sida'
    image='/img/component-guidelines/button/button-ex3-dont.png'
  />
</Stack>
<br />

### Använd samma färg på knapparna i en grupp

Vi ska hålla oss till samma färgvariant för en grupp knappar.

<Stack direction="row" style={{
  justifyContent: 'unset',
  alignItems: 'unset'
}}>
  <Do
    description='Knapparna i en grupp ska ha samma färg'
    image='/img/component-guidelines/button/button-ex4-do.png'
  />

  <Dont
    description='Olika färger i en grupp kan vara förvirrande'
    image='/img/component-guidelines/button/button-ex4-dont.png'
  />
</Stack>
<br />

### Endast en ikon per knapp

Vi ska hålla oss till en ikon per knapp.

<Stack direction="row" style={{
  justifyContent: 'left',
  alignItems

: 'left'
}}>
  <Do
    description='Använd bara en ikon'
    image='/img/component-guidelines/button/button-ex1-do.png'
  />

  <Dont
    description='Använd inte flera ikoner på samma knapp'
    image='/img/component-guidelines/button/button-ex1-dont.png'
  />
</Stack>
<br />

<br />

## Text i komponenten

Knapptexten ska vara kort, helst inte mer än två, max tre ord. Tänk på att knappen tydligt ska beskriva vad som händer när användaren klickar på den.

### Undvik att blanda skrivsätt

Använd stor bokstav i det första ordet, som du skulle göra i en mening. Använd inte bara stora bokstäver (all caps), det är svårare att läsa.

<Stack direction="row" style={{
  justifyContent: 'left',
  alignItems: 'left'
}}>
  <Do
    description='Använd stor bokstav i första ordet och små bokstäver i resten'
    image='/img/component-guidelines/button/button-ex5-do.png'
  />

  <Dont
    description='Blanda inte skrivsätt'
    image='/img/component-guidelines/button/button-ex5-dont.png'
  />
</Stack>

## CSS Variabler

<CssVariables css={css} />

<br />
<br />
<br />

<<<<<<< HEAD
[^1]: [Inaktiverade tillstånd](https://aksel.nav.no/god-praksis/artikler/deaktiverte-tilstander) - Aksel.

<br />
<br />
<br />
<br />
=======
[^1]: [Deaktiverte tilstander](https://aksel.nav.no/god-praksis/artikler/deaktiverte-tilstander) - Aksel.
>>>>>>> next
