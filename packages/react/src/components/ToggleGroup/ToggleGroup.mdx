import { Meta, Canvas, Controls, Primary } from '@storybook/blocks';

import * as ToggleGroupStories from './ToggleGroup.stories';

<Meta of={ToggleGroupStories} />

# ToggleGroup

Med `ToggleGroup` kan användarna välja alternativ som påverkar innehållet på en sida. Komponenten består av en grupp knappar som hänger ihop, där endast en knapp kan väljas åt gången.

<Primary />
<Controls />

## Så här använder du `ToggleGroup`

Placera helst innehållet du ska styra direkt efter `ToggleGroup` i DOM:en. Om inte, bör du använda `aria-controls` på `ToggleGroup` för att koppla komponenten till den container som innehåller det föränderliga innehållet.

```tsx
import { ToggleGroup } from '@digdir/designsystemet-react';

<ToggleGroup defaultValue='value1'>
  <ToggleGroup.Item value='value1'>Option 1</ToggleGroup.Item>
  <ToggleGroup.Item value='value2'>Option 2</ToggleGroup.Item>
  <ToggleGroup.Item value='value3'>Option 3</ToggleGroup.Item>
</ToggleGroup>;
```

## Exempel

<br />

### Innehållet på knapparna
`ToggleGroup` kan ha tre typer av innehåll:
- Endast text.
- Text med ikon till vänster om texten.
- Endast ikon.

<br />

#### Endast ikon
Alternativet "Endast ikon" används endast när du vet att användarna kommer att förstå ikonen. Det kan till exempel vara expertanvändare eller användare av interna tjänster som känner till symbolerna i den aktuella `ToggleGroup` väl. Förklara åtgärderna med [`Tooltip`](/docs/komponenter-tooltip--docs) när du endast visar ikoner.


<Canvas of={ToggleGroupStories.OnlyIcons} />

### Kontrollerad
Använd `value` på `ToggleGroup.Item` och `ToggleGroup` för att själv styra värdena.

<Canvas of={ToggleGroupStories.Kontrollert} />


## Riktlinjer för `ToggleGroup`

<br />

Det bör finnas minst två men inte fler än fem alternativ i en `ToggleGroup`. Behöver du fler alternativ än fem, använd [`Combobox`](/docs/komponenter-combobox--docs).

Passar för att

- filtrera innehåll i listor och tabeller
- växla mellan datavisning och innehåll, till exempel mellan tabell och graf
- styra vilka fält i ett formulär som ska visas

<br />
Passar inte för att

- användas som formulärselement – använd hellre [`Radio`](/docs/komponenter-radio--docs)
- navigera – använd hellre [`Tabs`](/docs/komponenter-tabs--docs) om det handlar om panelnavigering
<br />
### Ge komponenten tillräckligt med utrymme

Se till att hela komponenten får plats på skärmen och att alla alternativ är väl synliga för användarna. I gränssnitt med begränsat utrymme, till exempel på mobil, kan vi använda [`Combobox`](/docs/komponenter-combobox--docs) istället.

<br />

## Text i komponenten 

Ha gärna med en ledtext för gruppen som förklarar vad alternativen gäller. Skriv tydliga texter för alternativen i komponenten och se till att de har samma språkliga form. Använd gärna hintar i [`Tooltip`](/docs/komponenter-tooltip--docs), särskilt om du endast visar ikoner.

<br />

## Tillgänglighet

`ToggleGroup` har en standardfokusindikator (ram).
Vi använder `roving tabindex` för att hantera fokusförflyttning mellan knapparna.

### Tangentbordsinteraktion 

- `Tab` Flyttar fokus till den aktiva toggle-knappen.
- `Shift+Tab` Flyttar fokus till elementet före `ToggleGroup` i tabindex.
- `Mellanslag` Väljer en knapp.
- `Enter` Väljer en knapp.
- `Pil upp` Flyttar fokus till föregående knapp i gruppen.
- `Pil vänster` Flyttar fokus till föregående knapp i gruppen.
- `Pil ner` Flyttar fokus till nästa knapp i gruppen.
- `Pil höger` Flyttar fokus till nästa knapp i gruppen.
- `Home` Går till första knappen i gruppen.
- `End` Går till sista knappen i gruppen.