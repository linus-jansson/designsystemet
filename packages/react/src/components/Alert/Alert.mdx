import { Meta, Canvas, Controls, Primary } from '@storybook/blocks';
import { Do, Dont, Stack, CssVariables } from '@doc-components';
import css from '@digdir/designsystemet-css/alert.css?inline';

import * as AlertStories from './Alert.stories';

<Meta of={AlertStories} />

# Alert

Vi använder `Alert` för att ge användaren information som är extra viktig att de ser och förstår. Alert är designad för att fånga användarnas uppmärksamhet. Texten i varningen ska vara kort och tydlig.

<Primary />
<Controls />

## Användning

```tsx
import { Alert } from '@digdir/designsystemet-react';

<Alert>Du använder Alert-komponenten!</Alert>;
```

## Exempel

`Alert` kan användas för fyra olika budskap: Information, varningar, framgång och felmeddelanden. Den kan också användas tillsammans med andra komponenter och stilar. Här är några exempel.

<br />

### Information

Använd `info` för information som är användbar för användarna, men inte avgörande för att de ska förstå uppgiften.

<Canvas of={AlertStories.VariantInfo} />

### Framgång

Använd `success` när du vill bekräfta att användaren har slutfört en uppgift, att åtgärden var framgångsrik.

<Canvas of={AlertStories.VariantSuccess} />

### Varning

Använd `warning` när du vill att användaren ska vidta en viss åtgärd eller för att varna dem om något viktigt.

<Canvas of={AlertStories.VariantWarning} />

### Felmeddelande

Använd `danger` för att informera om något kritiskt eller som hindrar användaren från att gå vidare.

<Canvas of={AlertStories.VariantDanger} />

### Med och utan rubrik

Om meddelandet är längre än en mening kan det vara användbart att använda en rubrik för att framhäva det viktigaste. Detta kan göras med hjälp av [Typografi](/docs/komponenter-typography--docs)-komponenterna. Kom ihåg att välja rätt rubriknivå baserat på platsen varningen har i innehållsstrukturen på sidan.

<Canvas of={AlertStories.MedHeading} />

Om rubriken och beskrivningen upprepar samma sak är det bättre att använda en enkel mening utan rubrik.

<Canvas of={AlertStories.MedKunHeading} />

### Med länk

Du kan ha en länk i Alert om det hjälper användaren att lösa uppgiften. Men var medveten om att en länk tar användaren ut ur tjänsten, så använd länk endast när det är absolut nödvändigt, till exempel om du vill att användaren ska öppna ett formulär eller utföra en viktig uppgift.

<Canvas of={AlertStories.MedLenke} />

## Riktlinjer för alert

Alert har flera varianter som används för fyra olika budskap: Information, varningar, framgång och felmeddelande. Använd komponenten sparsamt. Användare kan förväxla varningar med reklam och därmed ignorera dem. Om vi använder varningar för ofta kan vi förvärra detta problem.

Se till att alert har samma utseende och formspråk i alla tjänster och produkter. Denna komponent ska vara igenkännbar överallt, så vi ska inte justera den.

Passar för att

- ge korta och informativa varningar

Passar inte för att

- ge varningar om systemfel eller liknande
- validera enskilda fält i formulär, använd istället komponentens egen felmeddelande

### Storlekar

När du sätter `size` ändrar vi inte storleken på texten som ligger i textkomponenter. Fri text som skickas in kommer att ändra storlek i enlighet med `size`-egenskapen.

Om du skickar in text med hjälp av komponenter kan du följa tabellen nedan för rekommenderade storlekar:

| Alert Storlek  | Rubrikstorlek      | Paragrafstorlek      |
| ---------------| -------------------| ---------------------|
| sm             | 2xs                | sm                   |
| md             | xs                 | md                   |
| lg             | sm                 | lg                   |

### Skapa inte andra versioner

Det är viktigt att Alerts har samma utseende och formspråk över produkterna, så den ska inte justeras.

<Stack direction="row" style={{
  justifyContent: 'unset',
  alignItems: 'unset'
}}>
  <Do
    description='Alert används över produkter och ska se lika ut'
    image='/img/component-guidelines/alert/alert-ex1-do.png'
  />

  <Dont
    description='Ta inte bort kantlinjer, byt inte ikon eller gör andra visuella ändringar på alert'
    image='/img/component-guidelines/alert/alert-ex1-dont.png'
  />
</Stack>
<br />

## Text i komponenten

Det är inte alltid lätt att förstå skillnaden på varningarna, även om de har olika ikoner och färger. Därför är det viktigt att texten i varningen är tydlig och lätt att förstå.

Vi kan välja om vi vill ha med en rubrik i alert. Om meddelandet är längre än en mening kan det vara klokt att ha med en rubrik som framhäver det viktigaste.

Det måste vara tydligt vem som gör vad. Tänk på texten som ett samtal med användaren, använd ord som ”vi” och ”du”.

Om meddelandet är kopplat till en viss åtgärd, till exempel svar på en fråga, bör texten upprepa nyckelord från ledtexten.

Det är särskilt viktigt att texten i varningar talar om huruvida användaren måste eller kan göra något för att komma vidare med sin uppgift.

Här är en lista över vilken typ av information en varning bör innehålla:

- Berätta vad som har hänt
  - Exempel: "Kunde inte ansluta till konto."
- Berätta varför det hände
  - Exempel: "Vi kunde inte ansluta till ditt konto på grund av tekniska problem från vår sida."
- Försäkra användaren
  - Exempel: "Dina ändringar har sparats."
- Ge dem en väg ut ur problemet
  - Exempel: "Om detta problem uppstår igen, kontakta Kundservice."
- Hjälp dem att själva lösa problemet
  - Exempel: "Försök igen."
    <br />
    <br />

## Tillgänglighet

### Alternativtext

Ikonerna är inte bara dekorativa. De har en standardalternativtext som kommunicerar allvarlighetsgrad: "Information", "Framgång", "Varning" och "Fel". Denna läses upp som en del av innehållet för skärmläsaranvändare.

### Interaktion med skärmläsare

Alert-komponenten har inte `role="alert"` som standard, den presenteras för skärmläsaranvändare som vanligt statiskt innehåll. Du kan lägga till `role=alert` själv, men var medveten om den förväntade beteendet som detta medför. Du kan läsa mer om detta i [dokumentationen för ARIA](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/alert_role).

#### Gör inte detta

Använd inte `role=alert` om `Alert` är synlig när sidan laddas in.

<Canvas of={AlertStories.UtenAria} />

#### Gör detta

Använd `role=alert` om den visas dynamiskt under användning på grund av användarinput eller andra faktorer som kan utlösa en alert.

<Canvas of={AlertStories.MedAria} />

## CSS Variabler

<CssVariables css={css} />
