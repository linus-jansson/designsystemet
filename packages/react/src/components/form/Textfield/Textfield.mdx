import { Meta, Canvas, Controls, Primary } from '@storybook/blocks';

import * as TextfieldStories from './Textfield.stories';

<Meta of={TextfieldStories} />

# Textfield

`Textfield` kallas textfält på svenska. Det är ett inmatningsfält som till exempel ger användarna möjlighet att skriva korta texter eller siffror.

<Primary />
<Controls />

## Prefix/Suffix

Prefix och suffix är användbara för att visa enheter, valuta eller annan information som är relevant för fältet.
Du ska **inte** använda dessa ensamma, eftersom skärmläsare inte läser upp dem.
Det är viktigt att samma information som visas i prefixet eller suffixet också inkluderas i etiketten.

<Canvas of={TextfieldStories.Adornments} />

## Antal tecken

<Canvas of={TextfieldStories.WithCharacterCounter} />

## Kontrollerad

<Canvas of={TextfieldStories.Controlled} />

## Html Size

<Canvas of={TextfieldStories.HtmlSize} />

## Riktlinjer för när du ska använda `Textfield`

Vi använder textfält när vi vill ge användaren möjlighet att skriva text/svar på max. en rad, till exempel namn eller telefonnummer.

Passar för att

- ge möjlighet för korta texter eller svar
- mata in siffror, till exempel ett telefonnummer

Passar inte för att

- ge längre svar, använd istället `Textarea`
- mata in formaterad data, som markdown
  <br />

### Placering av etiketten

Etiketten och eventuell beskrivning ska alltid placeras ovanför textfältet. Då är de lätta att se på små skärmar och hindras inte av eventuella felmeddelanden.

### Undvik platshållartexter

Platshållartexter försvinner när användarna skriver i fältet. Det är därför bättre att inkludera tips och viktig information i själva etiketten eller den tillhörande beskrivningen.

### Anpassa bredden på textfältet

Anpassa bredden till vad användarna ska skriva in, kort bredd för telefonnummer och bredare för ortnamn. Olika bredd på fälten gör det enklare att navigera i formulär som har många fält.

### Inmatning och formatering

- Använd `autoComplete` för fält som tar emot personlig information. Om fältet ska be om personuppgifter om någon annan än användaren, måste du stänga av `autoComplete` (WCAG 1.3.5).
- Använd gärna inmatningstyper som visar vad du ber om, till exempel telefonnummer och e-post. Sådana inmatningstyper ger mobilanvändare ett tangentbord som passar för det de ska ange, till exempel ett numeriskt tangentbord för telefonnummer, men de kan också utlösa validering på klientsidan.
- Acceptera så mycket inmatning som möjligt från användarna, så länge det är begripligt. Exempel kan vara kontonummer med punkter, telefonnummer med mellanrum eller mellanrum i slutet av en e-postadress.
- Se till att användarna kan se inmatning som formateras automatiskt, utan att det stör dem när de fyller i.
- Använd inte bara versaler eller kursiv text i etiketten. Det är svårare att läsa.

## Text i komponenten

Det ska alltid finnas en etikett på `Textfield`. I speciella fall kan vi dölja etiketten med `hidelabel`. Det kan till exempel vara i tabeller om fältet får sin etikett från tabellhuvudet. Även om vi planerar att dölja etiketten måste vi alltid skriva en etikett som ger mening, eftersom den läses upp av skärmläsare.

## Tillgänglighet

### Använd inte inaktiverade fält

Använd inte inaktiverat läge (disabled state) på textfält. Tänk istället över om du behöver visa fältet överhuvudtaget, eller om du kan skriva ut informationen som ren text eller använda Read Only.

### Prefix och suffix

Prefix och suffix är ett extra visuellt hjälpmedel som ignoreras av skärmläsare. Vi måste alltid ha en beskrivande etikett. Prefix och suffix är placerade utanför inmatningsfälten de tillhör. På så sätt undviker vi att de skapar problem i vissa webbläsare, som kan lägga till en ikon i inmatningsfältet (till exempel ikoner för att visa eller skapa lösenord).