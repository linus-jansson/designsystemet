import { Meta, Canvas, Controls, Primary } from '@storybook/blocks';
import { CssVariables } from '@doc-components';
import css from '@digdir/designsystemet-css/search.css?inline';
import * as SearchStories from './Search.stories';

<Meta of={SearchStories} />

# Search

<Primary />
<Controls />

## Så här använder du Search

Du kan själv välja om du vill använda `Search.Clear` och `Search.Button`. Vi rekommenderar att du använder `Search.Clear` för att ge användaren möjlighet att rensa sökningen.  
Om du inte använder `Search.Button` kommer inmatningsfältet att visa en sökikon.

Du bör lägga till `aria-label` eller `aria-labelledby` om du inte kopplar `Search.Input` till en `Label`.

```tsx
import { Search } from '@digdir/designsystemet-react';

<Search>
  <Search.Input aria-label="Sök" />
  <Search.Clear />
  <Search.Button />
</Search>
```

## Kontrollerad

<Canvas of={SearchStories.Controlled} />

## Varianter

Du kan ändra `variant` på `Button`, eller ta bort den för att få olika varianter.

<Canvas of={SearchStories.Variants} />

## Med Label

Om du vill ha en etikett för sökfältet måste du lägga till en `Label`-komponent som kopplas ihop med `Search.Input`.  
I exemplet har vi använt `Field` för att skapa kopplingen mellan `Label` och `Search.Input`.

<Canvas of={SearchStories.WithLabel} />

## Formulär

Sökknappen har typen `"submit"` och skickar automatiskt in formuläret.

<Canvas of={SearchStories.Form} />

## CSS Variabler

<CssVariables css={css} />

## Referanser

- [Den idealiska sökrutan är 27 tecken bred](https://www.smashingmagazine.com/2009/09/10-useful-usability-findings-and-guidelines/#6-the-ideal-search-box-is-27-characters-wide)
